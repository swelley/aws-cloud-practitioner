# 🪣 S3 – Amazon Simple Storage Service

## O que é?

* S3 é o serviço de **armazenamento de objetos** da AWS.
* Ideal para armazenar arquivos estáticos como imagens, vídeos, documentos, backups, logs, etc.
* Cada arquivo (objeto) é armazenado dentro de um **bucket**.

---

## Principais conceitos

### 📁 Bucket

* É como um "pasta raiz" na AWS onde os arquivos são armazenados.
* Cada bucket tem um nome **único globalmente**.
* É possível configurar a região, permissões e versionamento.

### 📦 Objeto

* É o arquivo em si (foto, .pdf, vídeo, etc).
* Armazenado junto com metadados e uma chave de identificação (nome).

### 🗂️ Estrutura de diretórios

* S3 **não possui estrutura de pastas real**, mas sim objetos com nomes que simulam diretórios (ex: `imagens/perfil/foto.jpg`).

### 🔐 Permissões

* S3 é privado por padrão. Você precisa conceder acesso manualmente.
* Tipos de controle:

  * ACLs (Access Control Lists)
  * Bucket Policy (política escrita em JSON)
  * IAM Policy (vinculada ao usuário ou grupo)

### ♻️ Versionamento

* Permite manter **várias versões** de um mesmo arquivo.
* Muito útil para backup, auditoria ou recuperação de dados apagados.

### 🧊 Classes de armazenamento

* Diferentes classes conforme frequência de acesso:

| Classe                    | Uso recomendado                  | Custo       |
| ------------------------- | -------------------------------- | ----------- |
| S3 Standard               | Acesso frequente                 | Alto        |
| S3 IA (Infrequent Access) | Acesso eventual                  | Médio       |
| S3 Glacier                | Arquivamento (recuperação lenta) | Baixo       |
| S3 Glacier Deep Archive   | Arquivamento de longo prazo      | Muito baixo |

✅ **Dica**: Use regras de **lifecycle** para mover automaticamente objetos para classes mais baratas ao longo do tempo.

---

## 🧠 Curiosidades e boas práticas

* S3 tem **alta durabilidade (99.999999999%)** e é replicado automaticamente entre múltiplos datacenters da AWS.
* Você pode **hospedar sites estáticos** diretamente em um bucket S3.
* Existe limite por padrão de 100 buckets por conta – mas cada bucket pode conter milhões de objetos.
* Objetos individuais podem ter até **5 TB**.
* Evite deixar buckets públicos abertos – isso é uma **falha comum de segurança**.
* Com o S3 Transfer Acceleration, é possível acelerar o upload de arquivos grandes por rede global da AWS.

---

## 💻 Prática com AWS CLI

```bash
# Criar um bucket
aws s3 mb s3://meu-novo-bucket

# Enviar um arquivo para o bucket
aws s3 cp meu-arquivo.txt s3://meu-novo-bucket

# Listar arquivos de um bucket
aws s3 ls s3://meu-novo-bucket

# Ativar versionamento
aws s3api put-bucket-versioning \
  --bucket meu-novo-bucket \
  --versioning-configuration Status=Enabled

# Aplicar política pública (exemplo - usar com cuidado)
aws s3api put-bucket-policy \
  --bucket meu-novo-bucket \
  --policy file://politica.json
```

---

📚 Continue praticando o S3 com diferentes cenários, como hospedagem de site, backup automático e controle de acesso com IAM!
